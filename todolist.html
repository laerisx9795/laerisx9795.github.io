<!DOCTYPE html>
<html>
<head>
  <link href="css/bootstrap.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/todo.css" />
  <script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
  <script src="js/main.js"></script>
  <script src="js/fdb-all.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Dancing+Script" rel="stylesheet">
  
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/laerisx9795/laerisx9795.github.io/master/images/favicon.ico" type="image/x-icon" />
  
  <title>ToDoList</title>
  <style>
  </style>
</head>
<body>
  <nav class="navbar navbar-inverse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="#" data-toggle="tab">不要點<!--Action--></a></li>
          <li><a href="#" data-toggle="tab">因為<!--Another action--></a></li>
          <li><a href="#" data-toggle="tab">點了也沒用<!--Something else here--></a></li>
          <li role="separator" class="divider"></li>
          <li><a href="#" data-toggle="tab">裡面又沒東西<!--Separated link--></a></li>
        </ul>
      </li>
      <li><a href="http://www1.cpshs.hcc.edu.tw/information/">竹北資科</a></li>
    </ul>
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">B9</a>
    </div>
    <div class="collapse navbar-collapse navbar-collapse-center" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="http://laerisx9795.github.io/" id="HOME" onclick="home()" data-toggle="tab">Home</a></li>
        <li><a href="http://laerisx9795.github.io/todolist.html">TODOList</a></li>
        <li><a href="#" id="pageTwo" data-toggle="tab">Page 2</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
        <!-- Button trigger modal -->
          <a data-toggle="modal" data-target="#myModal" href="#">
            <!--Launch demo modal-->
            Sign Up
          </a>

          <!-- Modal -->
          <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  <h4 class="modal-title" id="myModalLabel"><a href="#">Sign Up</a><!--Modal title--></h4>
                </div>
                <div class="modal-body">
                  <h4>User Name</h4>
                  <input type="text" id="userNameIn"/>
                  <h4>Password</h4>
                  <input type="text" id=passwordIn/>
                  <h4>Cellphone</h4>
                  <input type="text" id="cellphone"/>
                  <h4>E-mail</h4>
                  <input type="email" id="email"/>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" id="signUp">Sign up</button>
                </div>
              </div>
              </div>
            </div>
        </li>
        <li>
          <!-- Button trigger modal -->
          <a data-toggle="modal" data-target="#myModal2" href="#">
            <!--Launch demo modal-->
            Login
          </a>

          <!-- Modal -->
          <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  <h4 class="modal-title" id="myModalLabel2"><a href="#">Login</a><!--Modal title--></h4>
                </div>
                <div class="modal-body">
                  <h4>User Name</h4>
                  <input type="text" id="userName"/>
                  <h4>Password</h4>
                  <input type="text" id="password"/>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" id="login">Login</button>
                </div>
              </div>
             </div>
           </div>
        </li>
       </ul>
     </div>
   </div>
</nav>
  <div id="myTabContent" class="tab-content">
    <div class="tab-pane fade in active" id="home">
      <div>
        <h1 class="one">TODOList</h1>
      </div>
      <div class="container"> <!-- container 在最外層  col-xs-12-->
        <div class="row">     <!-- row 在中間 -->
          <div class="col-xs-12 col-md-10">
            <div id="DIV">
              <h1>TODO List</h1>
                <div id="DIV2">
                  <input id="IPT" type="text" />
                  <button id="BT" >加入</button>
                </div>
                <!--<div class="clear-float"></div>-->
                <div id="DIV4">
                  <ul id="SP" style="list-style: none">
                    <li class="LIST">
                      <label>
                        <input class="TCK" type="checkbox">
                        <span class="task-content">TEST</span>
                      </label>
                      <div class="btn-group">
                        <button class="editThis">編輯</button>
                        <button class="js-delete-button">刪除</button>
                      </div>
                    </li>
                  </ul>
                  <div id="DIV3">
                    還有<span id="NUM">0</span>個未完成事項
                    <button id="Del">刪除已完成事項</button>
                    <hr>
                    <button id="already">顯示已完成事項</button>
                    <button id="yet">顯示未完成事項</button>
                    <button id="all">顯示所有事項</button>
                  </div>
                </div>
            </div>
          </div>
          <div class="col-xs-12 col-md-2">
            <h4 class="two">Akatsuki</h4>
          </div>
        </div>
      </div>
     </div>
  </div>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script>
    updateNum();
    //加入
    function toDoLi(){
      var value = $("#IPT").val();
      var date = new Date();
      //var dateString = date.toString();
      //date.toString() =>回傳Sat Oct 01 2016 16:11:41 GMT+0800 (台北標準時間)
      //date.getMonth() 10→9 因為是第十個月 卻從0開始數?YES!
      var dateString = date.getFullYear()+
          "/"+(date.getMonth()+1)+
          "/"+date.getDate()+" "+
          date.getHours()+":"+date.getMinutes();
      //var dateString2 = date.getHours()+":"+date.___Minutes() ←fail:沒有加get;
      //陣列 var d = [];
      //d.push(date.getFullYear(),
      //  (date.getMonth()+1),
      //  +date.getDate(),
      //  date.getHours(),date.getMinutes());
      $("#SP").append(
        "<li class=\"LIST\"><label><input class=\"TCK\" type=\"checkbox\"><span class=\"task-content\">" +
        value + 
        "</span>"+"   "+
        dateString+
        //d[0]+"/"+d[1]+"/"+d[2]+" "+d[3]+":"+d[3]+
        "</label><div class=\"btn-group\"><button class=\"editThis\">編輯</button>"+" "+"<button class=\"js-delete-button\">刪除</button></div></li>");
      //var all_Inputs = $("input[type=textbox]");
      $("#IPT").val("");
      updateNum();
    }

    $("#BT").on("click",toDoLi);


    //按Enter輸入
    function isEnterPressed(event){
      //alert(event.which);  Ascii Code
      if(event.which == 13){
        toDoLi();
      }
    }

    $("#IPT").on("keypress",isEnterPressed);

    //$("#IPT").val("");

    //刪除
    function deleteTask(){
      $(this).closest("li").remove();
      //$(this).remove();
      updateNum();
    }


    //$(".js-delete-button").on("click",deleteTask);
    $("#SP").on("click",".js-delete-button",deleteTask);

    //.remove() 刪除

    //刪除所選
    function delTask(){
      $(".TCK:checked").closest("li").remove();
      updateNum();
    }

    $("#Del").on("click",delTask);

    //計算事項數目
    //var total = $().length;  取得長度

    //$().text(total);

    //<span></span>

    function updateNum(){
      var TaskNum = $(".TCK").length;
      //label > input > class
      $("#NUM").text(TaskNum);
      //.text()  取得內容
      //.text(something) 替換內容
    }

    //$().hide();
    //$().show();

    //顯示已完成事項
    //先隱藏所有事項 再顯示已完成事項
    function alreadyComplate(){
      $(".TCK").closest("li").hide();
      $(".TCK:checked").closest("li").show();
    }
    $("#already").on("click",alreadyComplate);

    //顯示未完成事項
    //先顯示所有事項 再隱藏已完成事項
    function imcomplate(){
      $(".TCK").closest("li").show();
      $(".TCK:checked").closest("li").hide();
    }
    $("#yet").on("click",imcomplate);

    //顯示所有事項
    function all(){
      $(".TCK").closest("li").show();
    }
    $("#all").on("click",all);


    //顯示已完成和顯示未完成 先處理全部再處理已完成


    //編輯
    //當編輯按鈕被按下 提問:要改成什麼內容?

    //function edit(){
      //var V = $(".TCK").val();
      //var New = prompt("要將"+V+"改成什麼？");
      //$(".TCK").text(New);
    //}

    //$(".edit").on("click",edit);

    //function edit(){
      //$(".TCK").closest("li");
      //var V = $(".TCK").closest("li").val();
      //var New = prompt("要將"+V+"改成什麼？");
      //$(".TCK").text(New);
    //}

    //$(".edit").on("click",edit);

    function editValue(){
      var $Task = $(this).closest("li");
      var originTaskContent = $Task.find(".task-content").text();
      var newTask = prompt("要將"+originTaskContent+"改成什麼？");
      $Task.find(".task-content").text(newTask);
    }

    $("body").on("click",".editThis",editValue);
  </script>>
</body>
</html>
